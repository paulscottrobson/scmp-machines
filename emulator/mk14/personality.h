// *******************************************************************************************************************************
// *******************************************************************************************************************************
//
//		Name:		personality.h
//		Purpose:	CPU personality includes [MK14]
//		Date:		1st October 2017
//		Author:		Paul Robson (paul@robsons.org.uk)
//
// *******************************************************************************************************************************
// *******************************************************************************************************************************

// *******************************************************************************************************************************
//															Timing
// *******************************************************************************************************************************
	
#define CYCLES_PER_SECOND	(500000/2)												// Clock at 500Khz, 2 Clocks per T-State	
#define FRAME_RATE			(60)													// Frame rate
#define CYCLES_PER_FRAME	(CYCLES_PER_SECOND/FRAME_RATE)							// T-States per second.

// *******************************************************************************************************************************
//														Main Memory/CPU
// *******************************************************************************************************************************

#define RAMSIZE 	(4096)															// Memory we have installed
#define MEMORYMASK	(0xFFF)															// Memory mask.

static BYTE8 ramMemory[RAMSIZE];													// RAM memory

#define pcread() 	mbr = ramMemory[(mar) & MEMORYMASK]

static void write() {
 	if ((mar & 0xF00) == 0xF00) {
		ramMemory[(mar) & MEMORYMASK] = mbr;
		return;
	}
 	if ((mar & 0xD00) == 0xD00) {
 		HWIWriteSegment(mar & 0xFF,mbr);
 	}
}

static void read() {
	mbr = ramMemory[(mar) & MEMORYMASK];
	if ((mar & 0xF00) == 0xD00) {
		mbr = HWIReadKeyRow(mar & 0x0F);
	}
}

#define loadaddress	(0xF00)
#define bios "scios.bin"

// *******************************************************************************************************************************
//														I/O Port connections
// *******************************************************************************************************************************

#define io_sensea() 	(0)
#define io_senseb()		(0)
#define io_flags(d)		{}
#define io_sin() 		(0)
#define io_sout(b) 		{}